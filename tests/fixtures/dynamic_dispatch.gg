from std.collections import Box

trait Greeter:
    void greet(self)

struct English:
    int id

struct Spanish:
    int id

equip English with Greeter:
    void greet(self):
        print("hello")

equip Spanish with Greeter:
    void greet(self):
        print("hola")

void main():
    # Direct dispatch — compiler knows the concrete types
    English e = English(1)
    e.greet()
    Spanish s = Spanish(2)
    s.greet()

    # Dynamic dispatch — Box[Greeter] is a trait object, vtable dispatch
    Box[Greeter] g1 = Box.new(English(10))
    g1.greet()
    Box[Greeter] g2 = Box.new(Spanish(20))
    g2.greet()
