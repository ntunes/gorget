struct Counter:
    int current
    int max

equip Counter with Iterator[int]:
    Option[int] next(&self):
        if self.current >= self.max:
            return None
        int val = self.current
        self.current = self.current + 1
        return Some(val)

void main():
    Counter c = Counter(0, 5)
    for x in c:
        print("{x}")
    Counter c2 = Counter(10, 13)
    print("{c2.next().unwrap()}")
    print("{c2.next().unwrap()}")
    print("{c2.next().unwrap()}")
